name: PullRequest Test

on:
  pull_request:
    branches:
      - "1.18-fabric"

jobs:
  pr-check:
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/kotori316/fictional-meme/fictional-meme:1.18.1
      credentials:
        username: kotori316
        password: ${{ secrets.GITHUB_TOKEN }}

    steps:
      - uses: actions/checkout@v2
      - name: Test
        run: chmod +x ./gradlew && ./gradlew build --stacktrace --no-daemon
